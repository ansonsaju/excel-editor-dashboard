<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Excel Editor Pro</title>
  
  <!-- React and ReactDOM from CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Babel Standalone for JSX transformation -->
  <script src="https://unpkg.com/@babel/standalone@7.23.5/babel.min.js"></script>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- SheetJS for Excel processing -->
  <script src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>
  
  <style>
    /* Prevent flash of unstyled content */
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    #root {
      min-height: 100vh;
    }
    
    /* Loading indicator */
    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      font-size: 1.5rem;
      color: #6D7F6C;
    }
  </style>
</head>
<body>
  <div id="root">
    <div class="loading">
      <div>Loading Excel Editor Pro...</div>
    </div>
  </div>
  
  <!-- Load the React application -->
  <script type="text/babel" src="/app.js"></script>
  
  <!-- Fallback if app.js doesn't load -->
  <script>
    setTimeout(() => {
      const root = document.getElementById('root');
      if (root.innerHTML.includes('Loading')) {
        root.innerHTML = `
          <div style="padding: 2rem; text-align: center; font-family: sans-serif;">
            <h1 style="color: #ef4444; margin-bottom: 1rem;">⚠️ Error Loading Application</h1>
            <p style="color: #666; margin-bottom: 1rem;">The app.js file could not be loaded.</p>
            <p style="color: #666; margin-bottom: 1rem;">Please ensure the <code>public/app.js</code> file exists in your deployment.</p>
            <details style="margin-top: 2rem; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto;">
              <summary style="cursor: pointer; color: #6D7F6C; font-weight: bold;">Troubleshooting Steps</summary>
              <ol style="margin-top: 1rem; padding-left: 1.5rem; color: #666;">
                <li>Check that the <code>public</code> folder exists in your project root</li>
                <li>Verify <code>public/app.js</code> contains the React component code</li>
                <li>Check Railway deployment logs for errors</li>
                <li>Ensure <code>server.js</code> is serving static files from the public folder</li>
                <li>Try redeploying with all files in correct locations</li>
              </ol>
            </details>
          </div>
        `;
      }
    }, 5000);
  </script>
</body>
</html>
